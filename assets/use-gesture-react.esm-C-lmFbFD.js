import{r as P,q as ns,s as ss,R as Re}from"./index-Btyp9ZzC.js";function is(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const r=Object.getOwnPropertyDescriptor(s,i);r&&Object.defineProperty(e,i,r.get?r:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}let gt=Ae();const b=e=>Pe(e,gt);let yt=Ae();b.write=e=>Pe(e,yt);let Ne=Ae();b.onStart=e=>Pe(e,Ne);let bt=Ae();b.onFrame=e=>Pe(e,bt);let _t=Ae();b.onFinish=e=>Pe(e,_t);let ne=[];b.setTimeout=(e,t)=>{let n=b.now()+t,s=()=>{let r=ne.findIndex(o=>o.cancel==s);~r&&ne.splice(r,1),W-=~r?1:0},i={time:n,handler:e,cancel:s};return ne.splice(mn(n),0,i),W+=1,gn(),i};let mn=e=>~(~ne.findIndex(t=>t.time>e)||~ne.length);b.cancel=e=>{Ne.delete(e),bt.delete(e),_t.delete(e),gt.delete(e),yt.delete(e)};b.sync=e=>{ot=!0,b.batchedUpdates(e),ot=!1};b.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function s(...i){t=i,b.onStart(n)}return s.handler=e,s.cancel=()=>{Ne.delete(n),t=null},s};let wt=typeof window<"u"?window.requestAnimationFrame:()=>{};b.use=e=>wt=e;b.now=typeof performance<"u"?()=>performance.now():Date.now;b.batchedUpdates=e=>e();b.catch=console.error;b.frameLoop="always";b.advance=()=>{b.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):bn()};let G=-1,W=0,ot=!1;function Pe(e,t){ot?(t.delete(e),e(0)):(t.add(e),gn())}function gn(){G<0&&(G=0,b.frameLoop!=="demand"&&wt(yn))}function rs(){G=-1}function yn(){~G&&(wt(yn),b.batchedUpdates(bn))}function bn(){let e=G;G=b.now();let t=mn(G);if(t&&(_n(ne.splice(0,t),n=>n.handler()),W-=t),!W){rs();return}Ne.flush(),gt.flush(e?Math.min(64,G-e):16.667),bt.flush(),yt.flush(),_t.flush()}function Ae(){let e=new Set,t=e;return{add(n){W+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return W-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,W-=t.size,_n(t,s=>s(n)&&e.add(s)),W+=e.size,t=e)}}}function _n(e,t){e.forEach(n=>{try{t(n)}catch(s){b.catch(s)}})}function at(){}const os=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),d={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function z(e,t){if(d.arr(e)){if(!d.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}const x=(e,t)=>e.forEach(t);function q(e,t,n){if(d.arr(e)){for(let s=0;s<e.length;s++)t.call(n,e[s],`${s}`);return}for(const s in e)e.hasOwnProperty(s)&&t.call(n,e[s],s)}const R=e=>d.und(e)?[]:d.arr(e)?e:[e];function he(e,t){if(e.size){const n=Array.from(e);e.clear(),x(n,t)}}const le=(e,...t)=>he(e,n=>n(...t)),vt=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let xt,wn,H=null,vn=!1,St=at;const as=e=>{e.to&&(wn=e.to),e.now&&(b.now=e.now),e.colors!==void 0&&(H=e.colors),e.skipAnimation!=null&&(vn=e.skipAnimation),e.createStringInterpolator&&(xt=e.createStringInterpolator),e.requestAnimationFrame&&b.use(e.requestAnimationFrame),e.batchedUpdates&&(b.batchedUpdates=e.batchedUpdates),e.willAdvance&&(St=e.willAdvance),e.frameLoop&&(b.frameLoop=e.frameLoop)};var B=Object.freeze({__proto__:null,get createStringInterpolator(){return xt},get to(){return wn},get colors(){return H},get skipAnimation(){return vn},get willAdvance(){return St},assign:as});const pe=new Set;let j=[],Je=[],je=0;const ze={get idle(){return!pe.size&&!j.length},start(e){je>e.priority?(pe.add(e),b.onStart(fs)):(xn(e),b(ft))},advance:ft,sort(e){if(je)b.onFrame(()=>ze.sort(e));else{const t=j.indexOf(e);~t&&(j.splice(t,1),Sn(e))}},clear(){j=[],pe.clear()}};function fs(){pe.forEach(xn),pe.clear(),b(ft)}function xn(e){j.includes(e)||Sn(e)}function Sn(e){j.splice(us(j,t=>t.priority>e.priority),0,e)}function ft(e){const t=Je;for(let n=0;n<j.length;n++){const s=j[n];je=s.priority,s.idle||(St(s),s.advance(e),s.idle||t.push(s))}return je=0,Je=j,Je.length=0,j=t,j.length>0}function us(e,t){const n=e.findIndex(t);return n<0?e.length:n}const cs=(e,t,n)=>Math.min(Math.max(n,e),t),ds={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},L="[-+]?\\d*\\.?\\d+",Fe=L+"%";function Qe(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}const ls=new RegExp("rgb"+Qe(L,L,L)),hs=new RegExp("rgba"+Qe(L,L,L,L)),ps=new RegExp("hsl"+Qe(L,Fe,Fe)),ms=new RegExp("hsla"+Qe(L,Fe,Fe,L)),gs=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ys=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,bs=/^#([0-9a-fA-F]{6})$/,_s=/^#([0-9a-fA-F]{8})$/;function ws(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=bs.exec(e))?parseInt(t[1]+"ff",16)>>>0:H&&H[e]!==void 0?H[e]:(t=ls.exec(e))?(ee(t[1])<<24|ee(t[2])<<16|ee(t[3])<<8|255)>>>0:(t=hs.exec(e))?(ee(t[1])<<24|ee(t[2])<<16|ee(t[3])<<8|Vt(t[4]))>>>0:(t=gs.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=_s.exec(e))?parseInt(t[1],16)>>>0:(t=ys.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=ps.exec(e))?(Mt(Dt(t[1]),Ee(t[2]),Ee(t[3]))|255)>>>0:(t=ms.exec(e))?(Mt(Dt(t[1]),Ee(t[2]),Ee(t[3]))|Vt(t[4]))>>>0:null}function et(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Mt(e,t,n){const s=n<.5?n*(1+t):n+t-n*t,i=2*n-s,r=et(i,s,e+1/3),o=et(i,s,e),f=et(i,s,e-1/3);return Math.round(r*255)<<24|Math.round(o*255)<<16|Math.round(f*255)<<8}function ee(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function Dt(e){return(parseFloat(e)%360+360)%360/360}function Vt(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function Ee(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function jt(e){let t=ws(e);if(t===null)return e;t=t||0;let n=(t&4278190080)>>>24,s=(t&16711680)>>>16,i=(t&65280)>>>8,r=(t&255)/255;return`rgba(${n}, ${s}, ${i}, ${r})`}const ye=(e,t,n)=>{if(d.fun(e))return e;if(d.arr(e))return ye({range:e,output:t,extrapolate:n});if(d.str(e.output[0]))return xt(e);const s=e,i=s.output,r=s.range||[0,1],o=s.extrapolateLeft||s.extrapolate||"extend",f=s.extrapolateRight||s.extrapolate||"extend",c=s.easing||(a=>a);return a=>{const u=xs(a,r);return vs(a,r[u],r[u+1],i[u],i[u+1],c,o,f,s.map)}};function vs(e,t,n,s,i,r,o,f,c){let a=c?c(e):e;if(a<t){if(o==="identity")return a;o==="clamp"&&(a=t)}if(a>n){if(f==="identity")return a;f==="clamp"&&(a=n)}return s===i?s:t===n?e<=t?s:i:(t===-1/0?a=-a:n===1/0?a=a-t:a=(a-t)/(n-t),a=r(a),s===-1/0?a=-a:i===1/0?a=a+s:a=a*(i-s)+s,a)}function xs(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}const Ss=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const s=n*e,i=t==="end"?Math.floor(s):Math.ceil(s);return cs(0,1,i/e)},Le=1.70158,Te=Le*1.525,Ft=Le+1,Lt=2*Math.PI/3,$t=2*Math.PI/4.5,Ce=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,Ps={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>Ft*e*e*e-Le*e*e,easeOutBack:e=>1+Ft*Math.pow(e-1,3)+Le*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((Te+1)*2*e-Te)/2:(Math.pow(2*e-2,2)*((Te+1)*(e*2-2)+Te)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*Lt),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*Lt)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*$t))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*$t)/2+1,easeInBounce:e=>1-Ce(1-e),easeOutBounce:Ce,easeInOutBounce:e=>e<.5?(1-Ce(1-2*e))/2:(1+Ce(2*e-1))/2,steps:Ss};function ut(){return ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ut.apply(this,arguments)}const ie=Symbol.for("FluidValue.get"),X=Symbol.for("FluidValue.observers"),D=e=>!!(e&&e[ie]),C=e=>e&&e[ie]?e[ie]():e,Ut=e=>e[X]||null;function As(e,t){e.eventObserved?e.eventObserved(t):e(t)}function be(e,t){let n=e[X];n&&n.forEach(s=>{As(s,t)})}class Pn{constructor(t){if(this[ie]=void 0,this[X]=void 0,!t&&!(t=this.get))throw Error("Unknown getter");Is(this,t)}}const Is=(e,t)=>An(e,ie,t);function oe(e,t){if(e[ie]){let n=e[X];n||An(e,X,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function _e(e,t){let n=e[X];if(n&&n.has(t)){const s=n.size-1;s?n.delete(t):e[X]=null,e.observerRemoved&&e.observerRemoved(s,t)}}const An=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Me=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Os=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,qt=new RegExp(`(${Me.source})(%|[a-z]+)`,"i"),ks=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Ke=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,In=e=>{const[t,n]=Es(e);if(!t||vt())return e;const s=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(s)return s.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||e}else{if(n&&Ke.test(n))return In(n);if(n)return n}return e},Es=e=>{const t=Ke.exec(e);if(!t)return[,];const[,n,s]=t;return[n,s]};let tt;const Ts=(e,t,n,s,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(s)}, ${i})`,On=e=>{tt||(tt=H?new RegExp(`(${Object.keys(H).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(r=>C(r).replace(Ke,In).replace(Os,jt).replace(tt,jt)),n=t.map(r=>r.match(Me).map(Number)),i=n[0].map((r,o)=>n.map(f=>{if(!(o in f))throw Error('The arity of each "output" value must be equal');return f[o]})).map(r=>ye(ut({},e,{output:r})));return r=>{var o;const f=!qt.test(t[0])&&((o=t.find(a=>qt.test(a)))==null?void 0:o.replace(Me,""));let c=0;return t[0].replace(Me,()=>`${i[c++](r)}${f||""}`).replace(ks,Ts)}},Pt="react-spring: ",kn=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${Pt}once requires a function parameter`);return(...s)=>{n||(t(...s),n=!0)}},Cs=kn(console.warn);function Rs(){Cs(`${Pt}The "interpolate" function is deprecated in v9 (use "to" instead)`)}const Ms=kn(console.warn);function Ds(){Ms(`${Pt}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Ge(e){return d.str(e)&&(e[0]=="#"||/\d/.test(e)||!vt()&&Ke.test(e)||e in(H||{}))}const At=vt()?P.useEffect:P.useLayoutEffect,Vs=()=>{const e=P.useRef(!1);return At(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function En(){const e=P.useState()[1],t=Vs();return()=>{t.current&&e(Math.random())}}function js(e,t){const[n]=P.useState(()=>({inputs:t,result:e()})),s=P.useRef(),i=s.current;let r=i;return r?r.inputs&&Fs(t,r.inputs)||(r={inputs:t,result:e()}):r=n,P.useEffect(()=>{s.current=r,i==n&&(n.inputs=n.result=void 0)},[r]),r.result}function Fs(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const Tn=e=>P.useEffect(e,Ls),Ls=[];function Bt(e){const t=P.useRef();return P.useEffect(()=>{t.current=e}),t.current}const we=Symbol.for("Animated:node"),$s=e=>!!e&&e[we]===e,U=e=>e&&e[we],It=(e,t)=>os(e,we,t),We=e=>e&&e[we]&&e[we].getPayload();class Cn{constructor(){this.payload=void 0,It(this,this)}getPayload(){return this.payload||[]}}class ae extends Cn{constructor(t){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=t,d.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new ae(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,n){return d.num(t)&&(this.lastPosition=t,n&&(t=Math.round(t/n)*n,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,d.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}}class re extends ae{constructor(t){super(0),this._string=null,this._toString=void 0,this._toString=ye({output:[t,t]})}static create(t){return new re(t)}getValue(){let t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(d.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=ye({output:[this.getValue(),t]})),this._value=0,super.reset()}}const $e={dependencies:null};class He extends Cn{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const n={};return q(this.source,(s,i)=>{$s(s)?n[i]=s.getValue(t):D(s)?n[i]=C(s):t||(n[i]=s)}),n}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&x(this.payload,t=>t.reset())}_makePayload(t){if(t){const n=new Set;return q(t,this._addToPayload,n),Array.from(n)}}_addToPayload(t){$e.dependencies&&D(t)&&$e.dependencies.add(t);const n=We(t);n&&x(n,s=>this.add(s))}}class Ot extends He{constructor(t){super(t)}static create(t){return new Ot(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const n=this.getPayload();return t.length==n.length?n.map((s,i)=>s.setValue(t[i])).some(Boolean):(super.setValue(t.map(Us)),!0)}}function Us(e){return(Ge(e)?re:ae).create(e)}function ct(e){const t=U(e);return t?t.constructor:d.arr(e)?Ot:Ge(e)?re:ae}function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ue.apply(this,arguments)}const Nt=(e,t)=>{const n=!d.fun(e)||e.prototype&&e.prototype.isReactComponent;return P.forwardRef((s,i)=>{const r=P.useRef(null),o=n&&P.useCallback(p=>{r.current=Ns(i,p)},[i]),[f,c]=Bs(s,t),a=En(),u=()=>{const p=r.current;if(n&&!p)return;(p?t.applyAnimatedValues(p,f.getValue(!0)):!1)===!1&&a()},h=new qs(u,c),l=P.useRef();At(()=>(l.current=h,x(c,p=>oe(p,h)),()=>{l.current&&(x(l.current.deps,p=>_e(p,l.current)),b.cancel(l.current.update))})),P.useEffect(u,[]),Tn(()=>()=>{const p=l.current;x(p.deps,g=>_e(g,p))});const _=t.getComponentProps(f.getValue());return P.createElement(e,Ue({},_,{ref:o}))})};class qs{constructor(t,n){this.update=t,this.deps=n}eventObserved(t){t.type=="change"&&b.write(this.update)}}function Bs(e,t){const n=new Set;return $e.dependencies=n,e.style&&(e=Ue({},e,{style:t.createAnimatedStyle(e.style)})),e=new He(e),$e.dependencies=null,[e,n]}function Ns(e,t){return e&&(d.fun(e)?e(t):e.current=t),t}const zt=Symbol.for("AnimatedComponent"),zs=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=i=>new He(i),getComponentProps:s=i=>i}={})=>{const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:s},r=o=>{const f=Qt(o)||"Anonymous";return d.str(o)?o=r[o]||(r[o]=Nt(o,i)):o=o[zt]||(o[zt]=Nt(o,i)),o.displayName=`Animated(${f})`,o};return q(e,(o,f)=>{d.arr(e)&&(f=Qt(o)),r[f]=r(o)}),{animated:r}},Qt=e=>d.str(e)?e:e&&d.str(e.displayName)?e.displayName:d.fun(e)&&e.name||null;function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},k.apply(this,arguments)}function Y(e,...t){return d.fun(e)?e(...t):e}const me=(e,t)=>e===!0||!!(t&&e&&(d.fun(e)?e(t):R(e).includes(t))),Rn=(e,t)=>d.obj(e)?t&&e[t]:e,Mn=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,Qs=e=>e,kt=(e,t=Qs)=>{let n=Ks;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const s={};for(const i of n){const r=t(e[i],i);d.und(r)||(s[i]=r)}return s},Ks=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Gs={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Ws(e){const t={};let n=0;if(q(e,(s,i)=>{Gs[i]||(t[i]=s,n++)}),n)return t}function Dn(e){const t=Ws(e);if(t){const n={to:t};return q(e,(s,i)=>i in t||(n[i]=s)),n}return k({},e)}function ve(e){return e=C(e),d.arr(e)?e.map(ve):Ge(e)?B.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Hs(e){for(const t in e)return!0;return!1}function dt(e){return d.fun(e)||d.arr(e)&&d.obj(e[0])}function Ys(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function Xs(e,t){if(t&&e.ref!==t){var n;(n=e.ref)==null||n.delete(e),t.add(e),e.ref=t}}const Zs={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},lt=k({},Zs.default,{mass:1,damping:1,easing:Ps.linear,clamp:!1});class Js{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,lt)}}function ei(e,t,n){n&&(n=k({},n),Kt(n,t),t=k({},n,t)),Kt(e,t),Object.assign(e,t);for(const o in lt)e[o]==null&&(e[o]=lt[o]);let{mass:s,frequency:i,damping:r}=e;return d.und(i)||(i<.01&&(i=.01),r<0&&(r=0),e.tension=Math.pow(2*Math.PI/i,2)*s,e.friction=4*Math.PI*r*s/i),e}function Kt(e,t){if(!d.und(t.decay))e.duration=void 0;else{const n=!d.und(t.tension)||!d.und(t.friction);(n||!d.und(t.frequency)||!d.und(t.damping)||!d.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}const Gt=[];class ti{constructor(){this.changed=!1,this.values=Gt,this.toValues=null,this.fromValues=Gt,this.to=void 0,this.from=void 0,this.config=new Js,this.immediate=!1}}function Vn(e,{key:t,props:n,defaultProps:s,state:i,actions:r}){return new Promise((o,f)=>{var c;let a,u,h=me((c=n.cancel)!=null?c:s==null?void 0:s.cancel,t);if(h)p();else{d.und(n.pause)||(i.paused=me(n.pause,t));let g=s==null?void 0:s.pause;g!==!0&&(g=i.paused||me(g,t)),a=Y(n.delay||0,t),g?(i.resumeQueue.add(_),r.pause()):(r.resume(),_())}function l(){i.resumeQueue.add(_),i.timeouts.delete(u),u.cancel(),a=u.time-b.now()}function _(){a>0&&!B.skipAnimation?(i.delayed=!0,u=b.setTimeout(p,a),i.pauseQueue.add(l),i.timeouts.add(u)):p()}function p(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(l),i.timeouts.delete(u),e<=(i.cancelId||0)&&(h=!0);try{r.start(k({},n,{callId:e,cancel:h}),o)}catch(g){f(g)}}})}const Et=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?se(e.get()):t.every(n=>n.noop)?jn(e.get()):F(e.get(),t.every(n=>n.finished)),jn=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),F=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),se=e=>({value:e,cancelled:!0,finished:!1});function Fn(e,t,n,s){const{callId:i,parentId:r,onRest:o}=t,{asyncTo:f,promise:c}=n;return!r&&e===f&&!t.reset?c:n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const a=kt(t,(m,y)=>y==="onRest"?void 0:m);let u,h;const l=new Promise((m,y)=>(u=m,h=y)),_=m=>{const y=i<=(n.cancelId||0)&&se(s)||i!==n.asyncId&&F(s,!1);if(y)throw m.result=y,h(m),m},p=(m,y)=>{const w=new Wt,S=new Ht;return(async()=>{if(B.skipAnimation)throw xe(n),S.result=F(s,!1),h(S),S;_(w);const v=d.obj(m)?k({},m):k({},y,{to:m});v.parentId=i,q(a,(O,Q)=>{d.und(v[Q])&&(v[Q]=O)});const I=await s.start(v);return _(w),n.paused&&await new Promise(O=>{n.resumeQueue.add(O)}),I})()};let g;if(B.skipAnimation)return xe(n),F(s,!1);try{let m;d.arr(e)?m=(async y=>{for(const w of y)await p(w)})(e):m=Promise.resolve(e(p,s.stop.bind(s))),await Promise.all([m.then(u),l]),g=F(s.get(),!0,!1)}catch(m){if(m instanceof Wt)g=m.result;else if(m instanceof Ht)g=m.result;else throw m}finally{i==n.asyncId&&(n.asyncId=r,n.asyncTo=r?f:void 0,n.promise=r?c:void 0)}return d.fun(o)&&b.batchedUpdates(()=>{o(g,s,s.item)}),g})()}function xe(e,t){he(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}class Wt extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class Ht extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const ht=e=>e instanceof Tt;let ni=1;class Tt extends Pn{constructor(...t){super(...t),this.id=ni++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=U(this);return t&&t.getValue()}to(...t){return B.to(this,t)}interpolate(...t){return Rs(),B.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,n=!1){be(this,{type:"change",parent:this,value:t,idle:n})}_onPriorityChange(t){this.idle||ze.sort(this),be(this,{type:"priority",parent:this,priority:t})}}const Z=Symbol.for("SpringPhase"),Ln=1,$n=2,Un=4,nt=e=>(e[Z]&Ln)>0,K=e=>(e[Z]&$n)>0,ue=e=>(e[Z]&Un)>0,Yt=(e,t)=>t?e[Z]|=$n|Ln:e[Z]&=-3,Xt=(e,t)=>t?e[Z]|=Un:e[Z]&=-5;class si extends Tt{constructor(t,n){if(super(),this.key=void 0,this.animation=new ti,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!d.und(t)||!d.und(n)){const s=d.obj(t)?k({},t):k({},n,{from:t});d.und(s.default)&&(s.default=!0),this.start(s)}}get idle(){return!(K(this)||this._state.asyncTo)||ue(this)}get goal(){return C(this.animation.to)}get velocity(){const t=U(this);return t instanceof ae?t.lastVelocity||0:t.getPayload().map(n=>n.lastVelocity||0)}get hasAnimated(){return nt(this)}get isAnimating(){return K(this)}get isPaused(){return ue(this)}get isDelayed(){return this._state.delayed}advance(t){let n=!0,s=!1;const i=this.animation;let{config:r,toValues:o}=i;const f=We(i.to);!f&&D(i.to)&&(o=R(C(i.to))),i.values.forEach((u,h)=>{if(u.done)return;const l=u.constructor==re?1:f?f[h].lastPosition:o[h];let _=i.immediate,p=l;if(!_){if(p=u.lastPosition,r.tension<=0){u.done=!0;return}let g=u.elapsedTime+=t;const m=i.fromValues[h],y=u.v0!=null?u.v0:u.v0=d.arr(r.velocity)?r.velocity[h]:r.velocity;let w;const S=r.precision||(m==l?.005:Math.min(1,Math.abs(l-m)*.001));if(d.und(r.duration))if(r.decay){const v=r.decay===!0?.998:r.decay,I=Math.exp(-(1-v)*g);p=m+y/(1-v)*(1-I),_=Math.abs(u.lastPosition-p)<=S,w=y*I}else{w=u.lastVelocity==null?y:u.lastVelocity;const v=r.restVelocity||S/10,I=r.clamp?0:r.bounce,O=!d.und(I),Q=m==l?u.v0>0:m<l;let N,ke=!1;const M=1,fe=Math.ceil(t/M);for(let $=0;$<fe&&(N=Math.abs(w)>v,!(!N&&(_=Math.abs(l-p)<=S,_)));++$){O&&(ke=p==l||p>l==Q,ke&&(w=-w*I,p=l));const J=-r.tension*1e-6*(p-l),Ze=-r.friction*.001*w,ts=(J+Ze)/r.mass;w=w+ts*M,p=p+w*M}}else{let v=1;r.duration>0&&(this._memoizedDuration!==r.duration&&(this._memoizedDuration=r.duration,u.durationProgress>0&&(u.elapsedTime=r.duration*u.durationProgress,g=u.elapsedTime+=t)),v=(r.progress||0)+g/this._memoizedDuration,v=v>1?1:v<0?0:v,u.durationProgress=v),p=m+r.easing(v)*(l-m),w=(p-u.lastPosition)/t,_=v==1}u.lastVelocity=w,Number.isNaN(p)&&(console.warn("Got NaN while animating:",this),_=!0)}f&&!f[h].done&&(_=!1),_?u.done=!0:n=!1,u.setValue(p,r.round)&&(s=!0)});const c=U(this),a=c.getValue();if(n){const u=C(i.to);(a!==u||s)&&!r.decay?(c.setValue(u),this._onChange(u)):s&&r.decay&&this._onChange(a),this._stop()}else s&&this._onChange(a)}set(t){return b.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(K(this)){const{to:t,config:n}=this.animation;b.batchedUpdates(()=>{this._onStart(),n.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,n){let s;return d.und(t)?(s=this.queue||[],this.queue=[]):s=[d.obj(t)?t:k({},n,{to:t})],Promise.all(s.map(i=>this._update(i))).then(i=>Et(this,i))}stop(t){const{to:n}=this.animation;return this._focus(this.get()),xe(this._state,t&&this._lastCallId),b.batchedUpdates(()=>this._stop(n,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const n=this.key||"";let{to:s,from:i}=t;s=d.obj(s)?s[n]:s,(s==null||dt(s))&&(s=void 0),i=d.obj(i)?i[n]:i,i==null&&(i=void 0);const r={to:s,from:i};return nt(this)||(t.reverse&&([s,i]=[i,s]),i=C(i),d.und(i)?U(this)||this._set(s):this._set(i)),r}_update(t,n){let s=k({},t);const{key:i,defaultProps:r}=this;s.default&&Object.assign(r,kt(s,(c,a)=>/^on/.test(a)?Rn(c,i):c)),Jt(this,s,"onProps"),de(this,"onProps",s,this);const o=this._prepareNode(s);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const f=this._state;return Vn(++this._lastCallId,{key:i,props:s,defaultProps:r,state:f,actions:{pause:()=>{ue(this)||(Xt(this,!0),le(f.pauseQueue),de(this,"onPause",F(this,ce(this,this.animation.to)),this))},resume:()=>{ue(this)&&(Xt(this,!1),K(this)&&this._resume(),le(f.resumeQueue),de(this,"onResume",F(this,ce(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then(c=>{if(s.loop&&c.finished&&!(n&&c.noop)){const a=qn(s);if(a)return this._update(a,!0)}return c})}_merge(t,n,s){if(n.cancel)return this.stop(!0),s(se(this));const i=!d.und(t.to),r=!d.und(t.from);if(i||r)if(n.callId>this._lastToId)this._lastToId=n.callId;else return s(se(this));const{key:o,defaultProps:f,animation:c}=this,{to:a,from:u}=c;let{to:h=a,from:l=u}=t;r&&!i&&(!n.default||d.und(h))&&(h=l),n.reverse&&([h,l]=[l,h]);const _=!z(l,u);_&&(c.from=l),l=C(l);const p=!z(h,a);p&&this._focus(h);const g=dt(n.to),{config:m}=c,{decay:y,velocity:w}=m;(i||r)&&(m.velocity=0),n.config&&!g&&ei(m,Y(n.config,o),n.config!==f.config?Y(f.config,o):void 0);let S=U(this);if(!S||d.und(h))return s(F(this,!0));const v=d.und(n.reset)?r&&!n.default:!d.und(l)&&me(n.reset,o),I=v?l:this.get(),O=ve(h),Q=d.num(O)||d.arr(O)||Ge(O),N=!g&&(!Q||me(f.immediate||n.immediate,o));if(p){const $=ct(h);if($!==S.constructor)if(N)S=this._set(O);else throw Error(`Cannot animate between ${S.constructor.name} and ${$.name}, as the "to" prop suggests`)}const ke=S.constructor;let M=D(h),fe=!1;if(!M){const $=v||!nt(this)&&_;(p||$)&&(fe=z(ve(I),O),M=!fe),(!z(c.immediate,N)&&!N||!z(m.decay,y)||!z(m.velocity,w))&&(M=!0)}if(fe&&K(this)&&(c.changed&&!v?M=!0:M||this._stop(a)),!g&&((M||D(a))&&(c.values=S.getPayload(),c.toValues=D(h)?null:ke==re?[1]:R(O)),c.immediate!=N&&(c.immediate=N,!N&&!v&&this._set(a)),M)){const{onRest:$}=c;x(ri,Ze=>Jt(this,n,Ze));const J=F(this,ce(this,a));le(this._pendingCalls,J),this._pendingCalls.add(s),c.changed&&b.batchedUpdates(()=>{c.changed=!v,$==null||$(J,this),v?Y(f.onRest,J):c.onStart==null||c.onStart(J,this)})}v&&this._set(I),g?s(Fn(n.to,n,this._state,this)):M?this._start():K(this)&&!p?this._pendingCalls.add(s):s(jn(I))}_focus(t){const n=this.animation;t!==n.to&&(Ut(this)&&this._detach(),n.to=t,Ut(this)&&this._attach())}_attach(){let t=0;const{to:n}=this.animation;D(n)&&(oe(n,this),ht(n)&&(t=n.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;D(t)&&_e(t,this)}_set(t,n=!0){const s=C(t);if(!d.und(s)){const i=U(this);if(!i||!z(s,i.getValue())){const r=ct(s);!i||i.constructor!=r?It(this,r.create(s)):i.setValue(s),i&&b.batchedUpdates(()=>{this._onChange(s,n)})}}return U(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,de(this,"onStart",F(this,ce(this,t.to)),this))}_onChange(t,n){n||(this._onStart(),Y(this.animation.onChange,t,this)),Y(this.defaultProps.onChange,t,this),super._onChange(t,n)}_start(){const t=this.animation;U(this).reset(C(t.to)),t.immediate||(t.fromValues=t.values.map(n=>n.lastPosition)),K(this)||(Yt(this,!0),ue(this)||this._resume())}_resume(){B.skipAnimation?this.finish():ze.start(this)}_stop(t,n){if(K(this)){Yt(this,!1);const s=this.animation;x(s.values,r=>{r.done=!0}),s.toValues&&(s.onChange=s.onPause=s.onResume=void 0),be(this,{type:"idle",parent:this});const i=n?se(this.get()):F(this.get(),ce(this,t??s.to));le(this._pendingCalls,i),s.changed&&(s.changed=!1,de(this,"onRest",i,this))}}}function ce(e,t){const n=ve(t),s=ve(e.get());return z(s,n)}function qn(e,t=e.loop,n=e.to){let s=Y(t);if(s){const i=s!==!0&&Dn(s),r=(i||e).reverse,o=!i||i.reset;return Se(k({},e,{loop:t,default:!1,pause:void 0,to:!r||dt(n)?n:void 0,from:o?e.from:void 0,reset:o},i))}}function Se(e){const{to:t,from:n}=e=Dn(e),s=new Set;return d.obj(t)&&Zt(t,s),d.obj(n)&&Zt(n,s),e.keys=s.size?Array.from(s):null,e}function ii(e){const t=Se(e);return d.und(t.default)&&(t.default=kt(t)),t}function Zt(e,t){q(e,(n,s)=>n!=null&&t.add(s))}const ri=["onStart","onRest","onChange","onPause","onResume"];function Jt(e,t,n){e.animation[n]=t[n]!==Mn(t,n)?Rn(t[n],e.key):void 0}function de(e,t,...n){var s,i,r,o;(s=(i=e.animation)[t])==null||s.call(i,...n),(r=(o=e.defaultProps)[t])==null||r.call(o,...n)}const oi=["onStart","onChange","onRest"];let ai=1,fi=class{constructor(t,n){this.id=ai++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(k({default:!0},t))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((n,s)=>t[s]=n.get()),t}set(t){for(const n in t){const s=t[n];d.und(s)||this.springs[n].set(s)}}update(t){return t&&this.queue.push(Se(t)),this}start(t){let{queue:n}=this;return t?n=R(t).map(Se):this.queue=[],this._flush?this._flush(this,n):(Kn(this,n),pt(this,n))}stop(t,n){if(t!==!!t&&(n=t),n){const s=this.springs;x(R(n),i=>s[i].stop(!!t))}else xe(this._state,this._lastAsyncId),this.each(s=>s.stop(!!t));return this}pause(t){if(d.und(t))this.start({pause:!0});else{const n=this.springs;x(R(t),s=>n[s].pause())}return this}resume(t){if(d.und(t))this.start({pause:!1});else{const n=this.springs;x(R(t),s=>n[s].resume())}return this}each(t){q(this.springs,t)}_onFrame(){const{onStart:t,onChange:n,onRest:s}=this._events,i=this._active.size>0,r=this._changed.size>0;(i&&!this._started||r&&!this._started)&&(this._started=!0,he(t,([c,a])=>{a.value=this.get(),c(a,this,this._item)}));const o=!i&&this._started,f=r||o&&s.size?this.get():null;r&&n.size&&he(n,([c,a])=>{a.value=f,c(a,this,this._item)}),o&&(this._started=!1,he(s,([c,a])=>{a.value=f,c(a,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;b.onFrame(this._onFrame)}};function pt(e,t){return Promise.all(t.map(n=>Bn(e,n))).then(n=>Et(e,n))}async function Bn(e,t,n){const{keys:s,to:i,from:r,loop:o,onRest:f,onResolve:c}=t,a=d.obj(t.default)&&t.default;o&&(t.loop=!1),i===!1&&(t.to=null),r===!1&&(t.from=null);const u=d.arr(i)||d.fun(i)?i:void 0;u?(t.to=void 0,t.onRest=void 0,a&&(a.onRest=void 0)):x(oi,g=>{const m=t[g];if(d.fun(m)){const y=e._events[g];t[g]=({finished:w,cancelled:S})=>{const v=y.get(m);v?(w||(v.finished=!1),S&&(v.cancelled=!0)):y.set(m,{value:null,finished:w||!1,cancelled:S||!1})},a&&(a[g]=t[g])}});const h=e._state;t.pause===!h.paused?(h.paused=t.pause,le(t.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(t.pause=!0);const l=(s||Object.keys(e.springs)).map(g=>e.springs[g].start(t)),_=t.cancel===!0||Mn(t,"cancel")===!0;(u||_&&h.asyncId)&&l.push(Vn(++e._lastAsyncId,{props:t,state:h,actions:{pause:at,resume:at,start(g,m){_?(xe(h,e._lastAsyncId),m(se(e))):(g.onRest=f,m(Fn(u,g,h,e)))}}})),h.paused&&await new Promise(g=>{h.resumeQueue.add(g)});const p=Et(e,await Promise.all(l));if(o&&p.finished&&!(n&&p.noop)){const g=qn(t,o,i);if(g)return Kn(e,[g]),Bn(e,g,!0)}return c&&b.batchedUpdates(()=>c(p,e,e.item)),p}function en(e,t){const n=k({},e.springs);return t&&x(R(t),s=>{d.und(s.keys)&&(s=Se(s)),d.obj(s.to)||(s=k({},s,{to:void 0})),Qn(n,s,i=>zn(i))}),Nn(e,n),n}function Nn(e,t){q(t,(n,s)=>{e.springs[s]||(e.springs[s]=n,oe(n,e))})}function zn(e,t){const n=new si;return n.key=e,t&&oe(n,t),n}function Qn(e,t,n){t.keys&&x(t.keys,s=>{(e[s]||(e[s]=n(s)))._prepareNode(t)})}function Kn(e,t){x(t,n=>{Qn(e.springs,n,s=>zn(s,e))})}function ui(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,r;for(r=0;r<s.length;r++)i=s[r],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const ci=["children"],Ye=e=>{let{children:t}=e,n=ui(e,ci);const s=P.useContext(qe),i=n.pause||!!s.pause,r=n.immediate||!!s.immediate;n=js(()=>({pause:i,immediate:r}),[i,r]);const{Provider:o}=qe;return P.createElement(o,{value:n},t)},qe=di(Ye,{});Ye.Provider=qe.Provider;Ye.Consumer=qe.Consumer;function di(e,t){return Object.assign(e,P.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}const li=()=>{const e=[],t=function(i){Ds();const r=[];return x(e,(o,f)=>{if(d.und(i))r.push(o.start());else{const c=n(i,o,f);c&&r.push(o.start(c))}}),r};t.current=e,t.add=function(s){e.includes(s)||e.push(s)},t.delete=function(s){const i=e.indexOf(s);~i&&e.splice(i,1)},t.pause=function(){return x(e,s=>s.pause(...arguments)),this},t.resume=function(){return x(e,s=>s.resume(...arguments)),this},t.set=function(s){x(e,i=>i.set(s))},t.start=function(s){const i=[];return x(e,(r,o)=>{if(d.und(s))i.push(r.start());else{const f=this._getProps(s,r,o);f&&i.push(r.start(f))}}),i},t.stop=function(){return x(e,s=>s.stop(...arguments)),this},t.update=function(s){return x(e,(i,r)=>i.update(this._getProps(s,i,r))),this};const n=function(i,r,o){return d.fun(i)?i(o,r):i};return t._getProps=n,t};function hi(e,t,n){const s=d.fun(t)&&t;s&&!n&&(n=[]);const i=P.useMemo(()=>s||arguments.length==3?li():void 0,[]),r=P.useRef(0),o=En(),f=P.useMemo(()=>({ctrls:[],queue:[],flush(y,w){const S=en(y,w);return r.current>0&&!f.queue.length&&!Object.keys(S).some(I=>!y.springs[I])?pt(y,w):new Promise(I=>{Nn(y,S),f.queue.push(()=>{I(pt(y,w))}),o()})}}),[]),c=P.useRef([...f.ctrls]),a=[],u=Bt(e)||0;P.useMemo(()=>{x(c.current.slice(e,u),y=>{Ys(y,i),y.stop(!0)}),c.current.length=e,h(u,e)},[e]),P.useMemo(()=>{h(0,Math.min(u,e))},n);function h(y,w){for(let S=y;S<w;S++){const v=c.current[S]||(c.current[S]=new fi(null,f.flush)),I=s?s(S,v):t[S];I&&(a[S]=ii(I))}}const l=c.current.map((y,w)=>en(y,a[w])),_=P.useContext(Ye),p=Bt(_),g=_!==p&&Hs(_);At(()=>{r.current++,f.ctrls=c.current;const{queue:y}=f;y.length&&(f.queue=[],x(y,w=>w())),x(c.current,(w,S)=>{i==null||i.add(w),g&&w.start({default:_});const v=a[S];v&&(Xs(w,v.ref),w.ref?w.queue.push(v):w.start(v))})}),Tn(()=>()=>{x(f.ctrls,y=>y.stop(!0))});const m=l.map(y=>k({},y));return i?[m,i]:m}function Ir(e,t){const n=d.fun(e),[[s],i]=hi(1,n?e:[e],n?t||[]:t);return n||arguments.length==2?[s,i]:s}let tn;(function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"})(tn||(tn={}));class pi extends Tt{constructor(t,n){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=t,this.calc=ye(...n);const s=this._get(),i=ct(s);It(this,i.create(s))}advance(t){const n=this._get(),s=this.get();z(n,s)||(U(this).setValue(n),this._onChange(n,this.idle)),!this.idle&&nn(this._active)&&st(this)}_get(){const t=d.arr(this.source)?this.source.map(C):R(C(this.source));return this.calc(...t)}_start(){this.idle&&!nn(this._active)&&(this.idle=!1,x(We(this),t=>{t.done=!1}),B.skipAnimation?(b.batchedUpdates(()=>this.advance()),st(this)):ze.start(this))}_attach(){let t=1;x(R(this.source),n=>{D(n)&&oe(n,this),ht(n)&&(n.idle||this._active.add(n),t=Math.max(t,n.priority+1))}),this.priority=t,this._start()}_detach(){x(R(this.source),t=>{D(t)&&_e(t,this)}),this._active.clear(),st(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=R(this.source).reduce((n,s)=>Math.max(n,(ht(s)?s.priority:0)+1),0))}}function mi(e){return e.idle!==!1}function nn(e){return!e.size||Array.from(e).every(mi)}function st(e){e.idle||(e.idle=!0,x(We(e),t=>{t.done=!0}),be(e,{type:"idle",parent:e}))}B.assign({createStringInterpolator:On,to:(e,t)=>new pi(e,t)});var Ct=ns();const gi=ss(Ct),Or=is({__proto__:null,default:gi},[Ct]);function Rt(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,r;for(r=0;r<s.length;r++)i=s[r],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const yi=["style","children","scrollTop","scrollLeft","viewBox"],Gn=/^--/;function bi(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!Gn.test(e)&&!(ge.hasOwnProperty(e)&&ge[e])?t+"px":(""+t).trim()}const sn={};function _i(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",s=t,{style:i,children:r,scrollTop:o,scrollLeft:f,viewBox:c}=s,a=Rt(s,yi),u=Object.values(a),h=Object.keys(a).map(l=>n||e.hasAttribute(l)?l:sn[l]||(sn[l]=l.replace(/([A-Z])/g,_=>"-"+_.toLowerCase())));r!==void 0&&(e.textContent=r);for(let l in i)if(i.hasOwnProperty(l)){const _=bi(l,i[l]);Gn.test(l)?e.style.setProperty(l,_):e.style[l]=_}h.forEach((l,_)=>{e.setAttribute(l,u[_])}),o!==void 0&&(e.scrollTop=o),f!==void 0&&(e.scrollLeft=f),c!==void 0&&e.setAttribute("viewBox",c)}let ge={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const wi=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),vi=["Webkit","Ms","Moz","O"];ge=Object.keys(ge).reduce((e,t)=>(vi.forEach(n=>e[wi(n,t)]=e[t]),e),ge);const xi=["x","y","z"],Si=/^(matrix|translate|scale|rotate|skew)/,Pi=/^(translate)/,Ai=/^(rotate|skew)/,it=(e,t)=>d.num(e)&&e!==0?e+t:e,De=(e,t)=>d.arr(e)?e.every(n=>De(n,t)):d.num(e)?e===t:parseFloat(e)===t;class Ii extends He{constructor(t){let{x:n,y:s,z:i}=t,r=Rt(t,xi);const o=[],f=[];(n||s||i)&&(o.push([n||0,s||0,i||0]),f.push(c=>[`translate3d(${c.map(a=>it(a,"px")).join(",")})`,De(c,0)])),q(r,(c,a)=>{if(a==="transform")o.push([c||""]),f.push(u=>[u,u===""]);else if(Si.test(a)){if(delete r[a],d.und(c))return;const u=Pi.test(a)?"px":Ai.test(a)?"deg":"";o.push(R(c)),f.push(a==="rotate3d"?([h,l,_,p])=>[`rotate3d(${h},${l},${_},${it(p,u)})`,De(p,0)]:h=>[`${a}(${h.map(l=>it(l,u)).join(",")})`,De(h,a.startsWith("scale")?1:0)])}}),o.length&&(r.transform=new Oi(o,f)),super(r)}}class Oi extends Pn{constructor(t,n){super(),this._value=null,this.inputs=t,this.transforms=n}get(){return this._value||(this._value=this._get())}_get(){let t="",n=!0;return x(this.inputs,(s,i)=>{const r=C(s[0]),[o,f]=this.transforms[i](d.arr(r)?r:s.map(C));t+=" "+o,n=n&&f}),n?"none":t}observerAdded(t){t==1&&x(this.inputs,n=>x(n,s=>D(s)&&oe(s,this)))}observerRemoved(t){t==0&&x(this.inputs,n=>x(n,s=>D(s)&&_e(s,this)))}eventObserved(t){t.type=="change"&&(this._value=null),be(this,t)}}const ki=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Ei=["scrollTop","scrollLeft"];B.assign({batchedUpdates:Ct.unstable_batchedUpdates,createStringInterpolator:On,colors:ds});const Ti=zs(ki,{applyAnimatedValues:_i,createAnimatedStyle:e=>new Ii(e),getComponentProps:e=>Rt(e,Ei)}),kr=Ti.animated,Ci={click:"onClick",touchstart:"onTouchStart"};function Er(e,t){const n=Object.assign({},t.props);for(const s of e){const i=Ci[s];n[i]=function(r){var o,f;r.stopPropagation(),(f=(o=t.props)[i])===null||f===void 0||f.call(o,r)}}return Re.cloneElement(t,n)}function Ri(e,t,n){return Math.max(t,Math.min(e,n))}const E={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function rn(e,t,n){return t===0||Math.abs(t)===1/0?Math.pow(e,n*5):e*t*n/(t+n*e)}function on(e,t,n,s=.15){return s===0?Ri(e,t,n):e<t?-rn(t-e,n-t,s)+t:e>n?+rn(e-n,n-t,s)+n:e}function Mi(e,[t,n],[s,i]){const[[r,o],[f,c]]=e;return[on(t,r,o,s),on(n,f,c,i)]}function Di(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vi(e){var t=Di(e,"string");return typeof t=="symbol"?t:String(t)}function T(e,t,n){return t=Vi(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?an(Object(n),!0).forEach(function(s){T(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}const Wn={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function fn(e){return e?e[0].toUpperCase()+e.slice(1):""}const ji=["enter","leave"];function Fi(e=!1,t){return e&&!ji.includes(t)}function Li(e,t="",n=!1){const s=Wn[e],i=s&&s[t]||t;return"on"+fn(e)+fn(i)+(Fi(n,i)?"Capture":"")}const $i=["gotpointercapture","lostpointercapture"];function Ui(e){let t=e.substring(2).toLowerCase();const n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));const s=$i.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(s);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:n}}function qi(e,t=""){const n=Wn[e],s=n&&n[t]||t;return e+s}function Xe(e){return"touches"in e}function Hn(e){return Xe(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function Bi(e){return Array.from(e.touches).filter(t=>{var n,s;return t.target===e.currentTarget||((n=e.currentTarget)===null||n===void 0||(s=n.contains)===null||s===void 0?void 0:s.call(n,t.target))})}function Ni(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}function Yn(e){return Xe(e)?Ni(e)[0]:e}function zi(e){return Bi(e).map(t=>t.identifier)}function rt(e){const t=Yn(e);return Xe(e)?t.identifier:t.pointerId}function un(e){const t=Yn(e);return[t.clientX,t.clientY]}function Qi(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:n,altKey:s,metaKey:i,ctrlKey:r}=e;Object.assign(t,{shiftKey:n,altKey:s,metaKey:i,ctrlKey:r})}return t}function Be(e,...t){return typeof e=="function"?e(...t):e}function Ki(){}function Gi(...e){return e.length===0?Ki:e.length===1?e[0]:function(){let t;for(const n of e)t=n.apply(this,arguments)||t;return t}}function cn(e,t){return Object.assign({},t,e||{})}const Wi=32;class Hi{constructor(t,n,s){this.ctrl=t,this.args=n,this.key=s,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:n,ingKey:s,args:i}=this;n[s]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=i,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const n=this.state,s=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=t.target,n.currentTarget=t.currentTarget,n.lastOffset=s.from?Be(s.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=t.timeStamp)}computeValues(t){const n=this.state;n._values=t,n.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:n,config:s,shared:i}=this;n.args=this.args;let r=0;if(t&&(n.event=t,s.preventDefault&&t.cancelable&&n.event.preventDefault(),n.type=t.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,Qi(t)),i.down=i.pressed=i.buttons%2===1||i.touches>0,r=t.timeStamp-n.timeStamp,n.timeStamp=t.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const O=n._delta.map(Math.abs);E.addTo(n._distance,O)}this.axisIntent&&this.axisIntent(t);const[o,f]=n._movement,[c,a]=s.threshold,{_step:u,values:h}=n;if(s.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(o)>=c&&h[0]),u[1]===!1&&(u[1]=Math.abs(f)>=a&&h[1])):(u[0]===!1&&(u[0]=Math.abs(o)>=c&&Math.sign(o)*c),u[1]===!1&&(u[1]=Math.abs(f)>=a&&Math.sign(f)*a)),n.intentional=u[0]!==!1||u[1]!==!1,!n.intentional)return;const l=[0,0];if(s.hasCustomTransform){const[O,Q]=h;l[0]=u[0]!==!1?O-u[0]:0,l[1]=u[1]!==!1?Q-u[1]:0}else l[0]=u[0]!==!1?o-u[0]:0,l[1]=u[1]!==!1?f-u[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(l);const _=n.offset,p=n._active&&!n._blocked||n.active;p&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,t&&(n.first&&("bounds"in s&&(n._bounds=Be(s.bounds,n)),this.setup&&this.setup()),n.movement=l,this.computeOffset()));const[g,m]=n.offset,[[y,w],[S,v]]=n._bounds;n.overflow=[g<y?-1:g>w?1:0,m<S?-1:m>v?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const I=n._active?s.rubberband||[0,0]:[0,0];if(n.offset=Mi(n._bounds,n.offset,I),n.delta=E.sub(n.offset,_),this.computeMovement(),p&&(!n.last||r>Wi)){n.delta=E.sub(n.offset,_);const O=n.delta.map(Math.abs);E.addTo(n.distance,O),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&r>0&&(n.velocity=[O[0]/r,O[1]/r],n.timeDelta=r)}}emit(){const t=this.state,n=this.shared,s=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!s.triggerAllEvents)return;const i=this.handler(A(A(A({},n),t),{},{[this.aliasKey]:t.values}));i!==void 0&&(t.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function Yi([e,t],n){const s=Math.abs(e),i=Math.abs(t);if(s>i&&s>n)return"x";if(i>s&&i>n)return"y"}class Xi extends Hi{constructor(...t){super(...t),T(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=E.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=E.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const n=this.state,s=this.config;if(!n.axis&&t){const i=typeof s.axisThreshold=="object"?s.axisThreshold[Hn(t)]:s.axisThreshold;n.axis=Yi(n._movement,i)}n._blocked=(s.lockDirection||!!s.axis)&&!n.axis||!!s.axis&&s.axis!==n.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const Zi=e=>e,dn=.15,Xn={enabled(e=!0){return e},eventOptions(e,t,n){return A(A({},n.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[dn,dn];case!1:return[0,0];default:return E.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return E.toVector(e)},transform(e,t,n){const s=e||n.shared.transform;return this.hasCustomTransform=!!s,s||Zi},threshold(e){return E.toVector(e,0)}},Ji=0,Ie=A(A({},Xn),{},{axis(e,t,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(e=Ji){return e},bounds(e={}){if(typeof e=="function")return r=>Ie.bounds(e(r));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:n=1/0,top:s=-1/0,bottom:i=1/0}=e;return[[t,n],[s,i]]}}),ln={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};class er extends Xi{constructor(...t){super(...t),T(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const n=t._bounds.getBoundingClientRect(),s=t.currentTarget.getBoundingClientRect(),i={left:n.left-s.left+t.offset[0],right:n.right-s.right+t.offset[0],top:n.top-s.top+t.offset[1],bottom:n.bottom-s.bottom+t.offset[1]};t._bounds=Ie.bounds(i)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const n=this.config,s=this.state;if(t.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(t.buttons):n.pointerButtons!==-1&&n.pointerButtons!==t.buttons))return;const i=this.ctrl.setEventIds(t);n.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(i&&i.size>1&&s._pointerActive)&&(this.start(t),this.setupPointer(t),s._pointerId=rt(t),s._pointerActive=!0,this.computeValues(un(t)),this.computeInitial(),n.preventScrollAxis&&Hn(t)!=="mouse"?(s._active=!1,this.setupScrollPrevention(t)):n.delay>0?(this.setupDelayTrigger(t),n.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const n=this.state,s=this.config;if(!n._pointerActive)return;const i=rt(t);if(n._pointerId!==void 0&&i!==n._pointerId)return;const r=un(t);if(document.pointerLockElement===t.target?n._delta=[t.movementX,t.movementY]:(n._delta=E.sub(r,n._values),this.computeValues(r)),E.addTo(n._movement,n._delta),this.compute(t),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(t);return}if(s.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===s.preventScrollAxis||s.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const n=this.state,s=this.config;if(!n._active||!n._pointerActive)return;const i=rt(t);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[r,o]=n._distance;if(n.tap=r<=s.tapsThreshold&&o<=s.tapsThreshold,n.tap&&s.filterTaps)n._force=!0;else{const[f,c]=n._delta,[a,u]=n._movement,[h,l]=s.swipe.velocity,[_,p]=s.swipe.distance,g=s.swipe.duration;if(n.elapsedTime<g){const m=Math.abs(f/n.timeDelta),y=Math.abs(c/n.timeDelta);m>h&&Math.abs(a)>_&&(n.swipe[0]=Math.sign(f)),y>l&&Math.abs(u)>p&&(n.swipe[1]=Math.sign(c))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const n=this.config,s=n.device;n.pointerLock&&t.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,s,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,s,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,s,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,tr(t);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const n=ln[t.key];if(n){const s=this.state,i=t.shiftKey?10:t.altKey?.1:1;this.start(t),s._delta=n(this.config.keyboardDisplacement,i),s._keyboardActive=!0,E.addTo(s._movement,s._delta),this.compute(t),this.emit()}}keyUp(t){t.key in ln&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const n=this.config.device;t(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(n,"change",this.pointerMove.bind(this)),t(n,"end",this.pointerUp.bind(this)),t(n,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function tr(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}const Oe=typeof window<"u"&&window.document&&window.document.createElement;function Zn(){return Oe&&"ontouchstart"in window}function nr(){return Zn()||Oe&&window.navigator.maxTouchPoints>1}function sr(){return Oe&&"onpointerdown"in window}function ir(){return Oe&&"exitPointerLock"in window.document}function rr(){try{return"constructor"in GestureEvent}catch{return!1}}const V={isBrowser:Oe,gesture:rr(),touch:Zn(),touchscreen:nr(),pointer:sr(),pointerLock:ir()},or=250,ar=180,fr=.5,ur=50,cr=250,dr=10,hn={mouse:0,touch:0,pen:8},lr=A(A({},Ie),{},{device(e,t,{pointer:{touch:n=!1,lock:s=!1,mouse:i=!1}={}}){return this.pointerLock=s&&V.pointerLock,V.touch&&n?"touch":this.pointerLock?"mouse":V.pointer&&!i?"pointer":V.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&e?or:void 0,!(!V.touchscreen||n===!1))return e||(n!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:n=!0,buttons:s=1,keys:i=!0}={}}){return this.pointerButtons=s,this.keys=i,!this.pointerLock&&this.device==="pointer"&&n},threshold(e,t,{filterTaps:n=!1,tapsThreshold:s=3,axis:i=void 0}){const r=E.toVector(e,n?s:i?1:0);return this.filterTaps=n,this.tapsThreshold=s,r},swipe({velocity:e=fr,distance:t=ur,duration:n=cr}={}){return{velocity:this.transform(E.toVector(e)),distance:this.transform(E.toVector(t)),duration:n}},delay(e=0){switch(e){case!0:return ar;case!1:return 0;default:return e}},axisThreshold(e){return e?A(A({},hn),e):hn},keyboardDisplacement(e=dr){return e}});A(A({},Xn),{},{device(e,t,{shared:n,pointer:{touch:s=!1}={}}){if(n.target&&!V.touch&&V.gesture)return"gesture";if(V.touch&&s)return"touch";if(V.touchscreen){if(V.pointer)return"pointer";if(V.touch)return"touch"}},bounds(e,t,{scaleBounds:n={},angleBounds:s={}}){const i=o=>{const f=cn(Be(n,o),{min:-1/0,max:1/0});return[f.min,f.max]},r=o=>{const f=cn(Be(s,o),{min:-1/0,max:1/0});return[f.min,f.max]};return typeof n!="function"&&typeof s!="function"?[i(),r()]:o=>[i(o),r(o)]},threshold(e,t,n){return this.lockDirection=n.axis==="lock",E.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e},pinchOnWheel(e=!0){return e}});A(A({},Ie),{},{mouseOnly:(e=!0)=>e});A(A({},Ie),{},{mouseOnly:(e=!0)=>e});const Jn=new Map,mt=new Map;function hr(e){Jn.set(e.key,e.engine),mt.set(e.key,e.resolver)}const pr={key:"drag",engine:er,resolver:lr};function mr(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,r;for(r=0;r<s.length;r++)i=s[r],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function gr(e,t){if(e==null)return{};var n=mr(e,t),s,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}const yr={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=V.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},br=["target","eventOptions","window","enabled","transform"];function Ve(e={},t){const n={};for(const[s,i]of Object.entries(t))switch(typeof i){case"function":n[s]=i.call(n,e[s],s,e);break;case"object":n[s]=Ve(e[s],i);break;case"boolean":i&&(n[s]=e[s]);break}return n}function _r(e,t,n={}){const s=e,{target:i,eventOptions:r,window:o,enabled:f,transform:c}=s,a=gr(s,br);if(n.shared=Ve({target:i,eventOptions:r,window:o,enabled:f,transform:c},yr),t){const u=mt.get(t);n[t]=Ve(A({shared:n.shared},a),u)}else for(const u in a){const h=mt.get(u);h&&(n[u]=Ve(A({shared:n.shared},a[u]),h))}return n}class es{constructor(t,n){T(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}add(t,n,s,i,r){const o=this._listeners,f=qi(n,s),c=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},a=A(A({},c),r);t.addEventListener(f,i,a);const u=()=>{t.removeEventListener(f,i,a),o.delete(u)};return o.add(u),u}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class wr{constructor(){T(this,"_timeouts",new Map)}add(t,n,s=140,...i){this.remove(t),this._timeouts.set(t,window.setTimeout(n,s,...i))}remove(t){const n=this._timeouts.get(t);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class vr{constructor(t){T(this,"gestures",new Set),T(this,"_targetEventStore",new es(this)),T(this,"gestureEventStores",{}),T(this,"gestureTimeoutStores",{}),T(this,"handlers",{}),T(this,"config",{}),T(this,"pointerIds",new Set),T(this,"touchIds",new Set),T(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),xr(this,t)}setEventIds(t){if(Xe(t))return this.touchIds=new Set(zi(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,n){this.handlers=t,this.nativeHandlers=n}applyConfig(t,n){this.config=_r(t,n,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const n=this.config.shared,s={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const o of this.gestures){const f=this.config[o],c=pn(s,f.eventOptions,!!i);if(f.enabled){const a=Jn.get(o);new a(this,t,o).bind(c)}}const r=pn(s,n.eventOptions,!!i);for(const o in this.nativeHandlers)r(o,"",f=>this.nativeHandlers[o](A(A({},this.state.shared),{},{event:f,args:t})),void 0,!0)}for(const r in s)s[r]=Gi(...s[r]);if(!i)return s;for(const r in s){const{device:o,capture:f,passive:c}=Ui(r);this._targetEventStore.add(i,o,"",s[r],{capture:f,passive:c})}}}}function te(e,t){e.gestures.add(t),e.gestureEventStores[t]=new es(e,t),e.gestureTimeoutStores[t]=new wr}function xr(e,t){t.drag&&te(e,"drag"),t.wheel&&te(e,"wheel"),t.scroll&&te(e,"scroll"),t.move&&te(e,"move"),t.pinch&&te(e,"pinch"),t.hover&&te(e,"hover")}const pn=(e,t,n)=>(s,i,r,o={},f=!1)=>{var c,a;const u=(c=o.capture)!==null&&c!==void 0?c:t.capture,h=(a=o.passive)!==null&&a!==void 0?a:t.passive;let l=f?s:Li(s,i,u);n&&h&&(l+="Passive"),e[l]=e[l]||[],e[l].push(r)};function Sr(e,t={},n,s){const i=Re.useMemo(()=>new vr(e),[]);if(i.applyHandlers(e,s),i.applyConfig(t,n),Re.useEffect(i.effect.bind(i)),Re.useEffect(()=>i.clean.bind(i),[]),t.target===void 0)return i.bind.bind(i)}function Tr(e,t){return hr(pr),Sr({drag:e},t||{},"drag")}export{Or as R,kr as a,Tr as b,Ct as r,Ir as u,Er as w};
