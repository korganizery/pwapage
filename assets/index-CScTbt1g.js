import{r as o,j as t}from"./index-DoQja_sS.js";const u=()=>{const e=o.useRef(null),[s,i]=o.useState("none");return o.useEffect(()=>{const l=e.current;if(l){const r=getComputedStyle(l);console.log("styles",r.display),r.display==="none"&&(i("block"),console.log("user installed"));const a=d=>{const n=d;n.preventDefault(),l.addEventListener("click",()=>{n.prompt(),n.userChoice.then(p=>{if(p.outcome==="accepted"){console.log("user accept install"),localStorage.setItem("pwaInstalled","true");const c=document.createElement("div");c.textContent="Thank you for installing our app!",document.body.appendChild(c)}else console.log("user reject install")})})};return window.addEventListener("beforeinstallprompt",a),()=>{window.removeEventListener("beforeinstallprompt",a)}}},[]),{installButton:e,displays:s}},f=()=>{const{installButton:e,displays:s}=u();return t.jsx("div",{className:"flex h-screen items-center justify-center",children:t.jsx("div",{className:"flex flex-col items-center gap-16",children:t.jsx("header",{className:"flex flex-col items-center gap-9",children:t.jsx("button",{ref:e,style:{display:s},children:"install"})})})})};export{f as PwaPage,f as default};
